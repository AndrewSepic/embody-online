/*
 *  Project: jquery.responsiveTabs.js
 *  Description: A plugin that creates responsive tabs, optimized for all devices
 *  Author: Jelle Kralt (jelle@jellekralt.nl)
 *  Version: 1.3.6
 *  License: MIT
 */
 !function(t,s,a){var e={active:null,disabled:[],collapsible:"accordion",startCollapsed:!1,rotate:!1,setHash:!1,animation:"default",duration:500,activate:function(){},deactivate:function(){},load:function(){},activateState:function(){},classes:{stateDefault:"r-tabs-state-default",stateActive:"r-tabs-state-active",stateDisabled:"r-tabs-state-disabled",stateExcluded:"r-tabs-state-excluded",tab:"r-tabs-tab",anchor:"r-tabs-anchor",panel:"r-tabs-panel",accordionTitle:"r-tabs-accordion-title"}};function i(s,a){this.element=s,this.$element=t(s),this.tabs=[],this.state="",this.rotateInterval=0,this.$queue=t({}),this.options=t.extend({},e,a),this.init()}i.prototype.init=function(){var a=this;this.tabs=this._loadElements(),this._loadClasses(),this._loadEvents(),t(s).on("resize",function(t){a._setState(t)}),t(s).on("hashchange",function(t){var e=a._getTabRefBySelector(s.location.hash),i=a._getTab(e);e>=0&&!i._ignoreHashChange&&!i.disabled&&a._openTab(t,a._getTab(e),!0)}),!1!==this.options.rotate&&this.startRotation(),this.$element.bind("tabs-activate",function(t,s){a.options.activate.call(this,t,s)}),this.$element.bind("tabs-deactivate",function(t,s){a.options.deactivate.call(this,t,s)}),this.$element.bind("tabs-activate-state",function(t,s){a.options.activateState.call(this,t,s)}),this.$element.bind("tabs-load",function(t){var e,i=a._getTabRefBySelector(s.location.hash);a._setState(t),!0===a.options.startCollapsed||"accordion"===a.options.startCollapsed&&"accordion"===a.state||(e=i>=0&&!a._getTab(i).disabled?a._getTab(i):a.options.active>0&&!a._getTab(a.options.active).disabled?a._getTab(a.options.active):a._getTab(0),a._openTab(t,e),a.options.load.call(this,t,e))}),this.$element.trigger("tabs-load")},i.prototype._loadElements=function(){var s=this,a=this.$element.children("ul"),e=[],i=0;return this.$element.addClass("r-tabs"),a.addClass("r-tabs-nav"),t("li",a).each(function(){var a,o,n,l,r,c=t(this);if(!c.hasClass(s.options.classes.stateExcluded)){r=(a=t("a",c)).attr("href"),o=t(r),n=t("<div></div>").insertBefore(o),l=t("<a></a>").attr("href",r).html(a.html()).appendTo(n);var h={_ignoreHashChange:!1,id:i,disabled:-1!==t.inArray(i,s.options.disabled),tab:t(this),anchor:t("a",c),panel:o,selector:r,accordionTab:n,accordionAnchor:l,active:!1};i++,e.push(h)}}),e},i.prototype._loadClasses=function(){for(var t=0;t<this.tabs.length;t++)this.tabs[t].tab.addClass(this.options.classes.stateDefault).addClass(this.options.classes.tab),this.tabs[t].anchor.addClass(this.options.classes.anchor),this.tabs[t].panel.addClass(this.options.classes.stateDefault).addClass(this.options.classes.panel),this.tabs[t].accordionTab.addClass(this.options.classes.accordionTitle),this.tabs[t].accordionAnchor.addClass(this.options.classes.anchor),this.tabs[t].disabled&&(this.tabs[t].tab.removeClass(this.options.classes.stateDefault).addClass(this.options.classes.stateDisabled),this.tabs[t].accordionTab.removeClass(this.options.classes.stateDefault).addClass(this.options.classes.stateDisabled))},i.prototype._loadEvents=function(){for(var t=this,a=function(a){var e=t._getCurrentTab(),i=a.data.tab;a.preventDefault(),i.disabled||(t.options.setHash&&(s.location.hash=i.selector),a.data.tab._ignoreHashChange=!0,(e!==i||t._isCollapisble())&&(t._closeTab(a,e),e===i&&t._isCollapisble()||t._openTab(a,i,!1,!0)))},e=0;e<this.tabs.length;e++)this.tabs[e].anchor.on("click",{tab:t.tabs[e]},a),this.tabs[e].accordionAnchor.on("click",{tab:t.tabs[e]},a)},i.prototype._setState=function(){var s=t("ul",this.$element),a=this.state;s.is(":visible")?this.state="tabs":this.state="accordion",this.state!==a&&this.$element.trigger("tabs-activate-state",{oldState:a,newState:this.state})},i.prototype._openTab=function(t,s,a,e){var i=this;a&&this._closeTab(t,this._getCurrentTab()),e&&this.rotateInterval>0&&this.stopRotation(),s.active=!0,s.tab.removeClass(i.options.classes.stateDefault).addClass(i.options.classes.stateActive),s.accordionTab.removeClass(i.options.classes.stateDefault).addClass(i.options.classes.stateActive),i._doTransition(s.panel,i.options.animation,"open",function(){s.panel.removeClass(i.options.classes.stateDefault).addClass(i.options.classes.stateActive)}),this.$element.trigger("tabs-activate",s)},i.prototype._closeTab=function(t,s){var a=this;void 0!==s&&(s.active=!1,s.tab.removeClass(a.options.classes.stateActive).addClass(a.options.classes.stateDefault),a._doTransition(s.panel,a.options.animation,"close",function(){s.accordionTab.removeClass(a.options.classes.stateActive).addClass(a.options.classes.stateDefault),s.panel.removeClass(a.options.classes.stateActive).addClass(a.options.classes.stateDefault)},!0),this.$element.trigger("tabs-deactivate",s))},i.prototype._doTransition=function(t,s,a,e,i){var o,n=this;switch(s){case"slide":o="open"===a?"slideDown":"slideUp";break;case"fade":o="open"===a?"fadeIn":"fadeOut";break;default:o="open"===a?"show":"hide",n.options.duration=0}this.$queue.queue("responsive-tabs",function(i){t[o]({duration:n.options.duration,complete:function(){e.call(t,s,a),i()}})}),("open"===a||i)&&this.$queue.dequeue("responsive-tabs")},i.prototype._isCollapisble=function(){return"boolean"==typeof this.options.collapsible&&this.options.collapsible||"string"==typeof this.options.collapsible&&this.options.collapsible===this.getState()},i.prototype._getTab=function(t){return this.tabs[t]},i.prototype._getTabRefBySelector=function(t){for(var s=0;s<this.tabs.length;s++)if(this.tabs[s].selector===t)return s;return-1},i.prototype._getCurrentTab=function(){return this._getTab(this._getCurrentTabRef())},i.prototype._getNextTabRef=function(t){var s=t||this._getCurrentTabRef(),a=s===this.tabs.length-1?0:s+1;return this._getTab(a).disabled?this._getNextTabRef(a):a},i.prototype._getPreviousTabRef=function(){return 0===this._getCurrentTabRef()?this.tabs.length-1:this._getCurrentTabRef()-1},i.prototype._getCurrentTabRef=function(){for(var t=0;t<this.tabs.length;t++)if(this.tabs[t].active)return t;return-1},i.prototype.activate=function(t,s){var a=jQuery.Event("tabs-activate"),e=this._getTab(t);e.disabled||this._openTab(a,e,!0,s||!0)},i.prototype.deactivate=function(t){var s=jQuery.Event("tabs-dectivate"),a=this._getTab(t);a.disabled||this._closeTab(s,a)},i.prototype.getState=function(){return this.state},i.prototype.startRotation=function(s){var a=this;if(!(this.tabs.length>this.options.disabled.length))throw new Error("Rotation is not possible if all tabs are disabled");this.rotateInterval=setInterval(function(){var t=jQuery.Event("rotate");a._openTab(t,a._getTab(a._getNextTabRef()),!0)},s||(t.isNumeric(a.options.rotate)?a.options.rotate:4e3))},i.prototype.stopRotation=function(){s.clearInterval(this.rotateInterval),this.rotateInterval=0},t.fn.responsiveTabs=function(s){var a=arguments;return void 0===s||"object"==typeof s?this.each(function(){t.data(this,"responsivetabs")||t.data(this,"responsivetabs",new i(this,s))}):"string"==typeof s&&"_"!==s[0]&&"init"!==s?this.each(function(){var e=t.data(this,"responsivetabs");e instanceof i&&"function"==typeof e[s]&&e[s].apply(e,Array.prototype.slice.call(a,1)),"destroy"===s&&t.data(this,"responsivetabs",null)}):void 0}}(jQuery,window),jQuery(document).ready(function(t){});
